{
  "info": {
    "name": "favorite_products_collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Add favorite products",
      "event": [],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          },
          {
            "key": "Accept",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          }
        ],
        "auth": {
          "type": "bearer",
          "bearer": {
            "key": "token",
            "value": "{{token}}",
            "type": "string"
          }
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/v1/clients/{{externalId}}/favorite-products",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "v1",
            "clients",
            "{{externalId}}",
            "favorite-products"
          ],
          "query": [],
          "variable": []
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"product_ids\": [20,1,5]\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      }
    },
    {
      "name": "Create client",
      "event": [],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          },
          {
            "key": "Accept",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          }
        ],
        "auth": {
          "type": "noauth"
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/v1/clients",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "v1",
            "clients"
          ],
          "query": [],
          "variable": []
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"{{$randomFullName}}\",\n  \"email\": \"{{$randomEmail}}\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      }
    },
    {
      "name": "Delete client",
      "event": [],
      "request": {
        "method": "DELETE",
        "header": [],
        "auth": {
          "type": "bearer",
          "bearer": {
            "key": "token",
            "value": "{{token}}",
            "type": "string"
          }
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/v1/clients/{{externalId}}",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "v1",
            "clients",
            "{{externalId}}"
          ],
          "query": [],
          "variable": []
        }
      }
    },
    {
      "name": "Get favorite products",
      "event": [],
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          }
        ],
        "auth": {
          "type": "bearer",
          "bearer": {
            "key": "token",
            "value": "{{token}}",
            "type": "string"
          }
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/v1/clients/{{externalId}}/favorite-products",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "v1",
            "clients",
            "{{externalId}}",
            "favorite-products"
          ],
          "query": [],
          "variable": []
        }
      }
    },
    {
      "name": "Search client",
      "event": [],
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          }
        ],
        "auth": {
          "type": "bearer",
          "bearer": {
            "key": "token",
            "value": "{{token}}",
            "type": "string"
          }
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/v1/clients/{{externalId}}",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "v1",
            "clients",
            "{{externalId}}"
          ],
          "query": [],
          "variable": []
        }
      }
    },
    {
      "name": "Update client",
      "event": [],
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Accept",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          },
          {
            "key": "Content-Type",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          }
        ],
        "auth": {
          "type": "bearer",
          "bearer": {
            "key": "token",
            "value": "{{token}}",
            "type": "string"
          }
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/v1/clients/{{externalId}}",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "v1",
            "clients",
            "{{externalId}}"
          ],
          "query": [],
          "variable": []
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"{{$randomEmail}}\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      }
    },
    {
      "name": "[OPCIONAL] Consume token",
      "event": [],
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Accept",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          }
        ],
        "auth": {
          "type": "noauth"
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/auth/token/consume?token=3458ecad-1497-42e5-a490-0e9d1ec3e57c",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "auth",
            "token",
            "consume"
          ],
          "query": [
            {
              "key": "token",
              "value": "3458ecad-1497-42e5-a490-0e9d1ec3e57c"
            }
          ],
          "variable": []
        }
      }
    },
    {
      "name": "[AUTHENTICATION] Get token",
      "event": [],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          },
          {
            "key": "Accept",
            "value": "application/json",
            "disabled": false,
            "type": "default"
          }
        ],
        "auth": {
          "type": "noauth"
        },
        "description": "",
        "url": {
          "raw": "http://localhost:8080/auth/token/request",
          "protocol": "http",
          "host": [
            "localhost:8080"
          ],
          "path": [
            "auth",
            "token",
            "request"
          ],
          "query": [],
          "variable": []
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"external_id\": \"{{externalId}}\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      }
    }
  ],
  "variable": [
    {
      "key": "externalId",
      "value": "",
      "type": "default"
    },
    {
      "key": "token",
      "value": "",
      "type": "default"
    },
    {
      "key": "$randomFullName",
      "value": "",
      "type": "default"
    },
    {
      "key": "$randomEmail",
      "value": "",
      "type": "default"
    }
  ]
}